import { Story, Meta } from "@storybook/addon-docs"
import { VettingAndScreening } from "./VettingAndScreening.stories.js"

<Meta title="1. Anet User Stories/Vetting & Screening" />

## Vetting & Screening

In order to add a new vetting and screening assessment, simply find the **Assessment results - on
demand** section in the counterpart's page and press Make a new assessment button.

A modal will pop up afterwards asking you to fill in the vetting and screening form. Below, there is
a live component filled in with multiple assessments. The component used in ANET is identical to
this example. However, initially there will be no assessments in the list (be aware that addition,
editing & deletion operations do not result in any change in this platform. Data shown below is
previously prepared and **can not** be modified).

<Story name="Vetting & Screening">
  <VettingAndScreening />
</Story>

### Validity of Assessments & Coloring

Please pay attention to the `Screening and vetting date` and `Expiration date` fields when form
modal is visible. They are essential for calculating the expiration of an assessment. The assessment
cards are sorted according to the `Screening and vetting date` information and the assessment with
the most recent `Screening and vetting date` information is placed in right-most-order in the list.

Expiration of the assessments are calculated according to the `Expiration date` field. As the help
text suggests below the field; in case you left the field empty, the default duration of 108 days is
going to be applied which is configurable later if needed. Furthermore, the expiration date could be
entered and the duration of the assessment will be calculated accordingly. In addition, assessments
with an expiration date pointing to the current date are going to be considered as expired.

There can only be **one** valid assessment at a time. The validity of an assessment is shown on top
of the corresponding assessment card. The most recent assessment is always shown right most and it
is highlighted by **<span style={{color: "green"}}>Valid until [date]</span>** text if the
assessment is still valid or by **<span style={{color: "red"}}>Expired</span>** text if it is
expired.

There are two conditions for an assessment to be invalid:

- If a new assessment is added before the current one expires; in this case
  **<span style={{color: "grey"}}>No longer valid</span>** status will be displayed.
- If the current date is later than `Expiration date`; in this case
  **<span style={{color: "grey"}}>Expired</span>** status will be displayed (note that the text
  color would be red if there are no recent assessments).

### Navigation

_previous period_ and _next period_ buttons can be used to navigate between assessment cards. _next
period_ button takes you to recent cards and _previous period_ button moves you in the opposite
direction. If there are no cards to be shown in either direction, buttons become disabled.

Addition and deletion operations results in shifting the cards to make sure user sees the most
recent assessment in the list. Edition operation does not trigger shifting of cards.

### Assessment Card Layout

Light grey area above assessment cards are called card header and there are 4 aspects to pay
attention:

1. The date which the assessment is made.
2. ANET link which indicates who did the assessment.
3. Edit button
4. Delete button

Below the light grey area called card body, you can see the values of the corresponding assessment.

### Final Remarks

Deletion of an assessments might change the validity of the remaining cards.

Overriding the `Screening and vetting date` or `Expiration date` fields while editing an assessment
might result in changing the validity of the assessments.

Default number of assessments visible in the list is **3** but for smaller screen sizes, less number
of assessments are shown in the list at once.
